(dp1
S'output'
p2
S"<type 'exceptions.KeyError'> 'longitude'"
p3
sS'layer'
p4
S'/home/www-data/web2py.git/applications/ethical/controllers/data.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\r\nimport requests\r\nfrom functools import partial\r\nbaseurl = "http://ipchannels.integreen-life.bz.it"\r\ncache_t = (3600*24)\r\n\r\nbaseurl = "http://ipchannels.integreen-life.bz.it"\r\nfrontends = {\'Meteo\':\'MeteoFrontEnd\', \r\n             \'Vehicle\': \'VehicleFrontEnd\', \r\n             \'Environment\':\'EnvironmentFrontEnd\', \r\n             \'Parking\': \'parkingFrontEnd\',\r\n             \'Bluetooth\':\'BluetoothFrontEnd\', \r\n             \'Link\':\'LinkFrontEnd\', \r\n             \'Street\': \'StreetFrontEnd\', \r\n             \'Traffic\': \'TrafficFrontEnd\',\r\n             \'Cleanroads\': \'RWISFrontEnd\'}\r\n\r\ndef get_frontends():\r\n    session.forget(request)\r\n    response.headers[\'web2py-component-content\'] = \'append\'\r\n\r\n    #response.headers[\'web2py-component-content\'] = \'hide\'\r\n    #response.headers[\'web2py-component-command\'] = "add_after_form(xhr, \'form_frontend\');"\r\n    \r\n    return response.render(\'data/frontends_form.html\', {\'frontends\':frontends, \'frontend\':\'RWISFrontEnd\'})\r\n\r\ndef get_stations():\r\n    session.forget(request)\r\n    frontend = request.vars.frontend    \r\n    if not frontend or frontend not in frontends:\r\n        return HTTP(404)\r\n\r\n    response.headers[\'web2py-component-content\'] = \'append\'\r\n    stations = __get_stations(frontends[frontend])\r\n    response.headers[\'web2py-component-content\'] = \'hide\'\r\n    response.headers[\'web2py-component-command\'] = "add_after_form(xhr, \'form_frontend\');"\r\n    \r\n    return response.render(\'data/stations_form.html\', {\'stations\':stations, \'frontend\':frontend})\r\n\r\ndef _get_station(stationcode, frontend):\r\n    for s in __get_stations(frontend):\r\n        if s[\'id\'] == stationcode:\r\n            return s\r\n    return None\r\n\r\ndef get_data_types():\r\n    session.forget(request)\r\n    station = request.vars.station\r\n    frontend = request.vars.frontend\r\n    if not frontend or frontend not in frontends:\r\n        return HTTP(404)\r\n    s_obj = _get_station(station, frontends[frontend])\r\n    tab_name = request.vars.tab if request.vars.tab else \'sidebar_console\'\r\n    tab = "#%s .sidebar" % request.vars.tab if request.vars.tab else \'#sidebar_console\'\r\n    if s_obj == None:\r\n        raise HTTP(404, \'Station not found\')\r\n    name = s_obj[\'name\']\r\n    \r\n    response.headers[\'web2py-component-content\'] = \'hide\'\r\n    response.headers[\'web2py-component-command\'] = "fix_dynamic_accordion(\'%(tab)s\'); append_to(xhr, \'%(tab)s\');" % {\'tab\':tab}\r\n\r\n    data_types = __get_types(station, frontends[frontend])\r\n    if frontend.lower() == \'vehicle\':\r\n        data_types_filtered = filter(lambda r: \'valid\' not in r[0], data_types)\r\n        data_types_filtered = filter(lambda r: \'runtime\' not in r[0], data_types_filtered)\r\n        data_types_filtered = filter(lambda r: \'id_\' not in r[0], data_types_filtered)\r\n        data_types_filtered = filter(lambda r: \'gps_\' not in r[0] or \'speed\' in r[0], data_types_filtered)\r\n    else:\r\n        data_types_filtered = data_types\r\n    data_types_filtered.sort(key=lambda v: (v[0],int(v[3])) if len(v)>3 and v[3].isdigit() else v[0])\r\n    return response.render(\'data/data_types_legend.html\', {\'data_types\':data_types_filtered, \'frontend\':frontend, \'name\':name, \'station\':station, \'tab_name\':tab_name })\r\n\r\n@cache.action(time_expire=180, cache_model=cache.ram, vars=True)\r\ndef get_data():\r\n    session.forget(request)\r\n    station = request.vars.station \r\n    data_type = request.vars.data_type\r\n    data_label = request.vars.data_label\r\n    unit = request.vars.unit\r\n    period = request.vars.period\r\n    seconds = request.vars.seconds\r\n    from_epoch = int(request.vars[\'from\'])\r\n    to_epoch = int(request.vars.to)\r\n    frontend = request.vars.frontend\r\n    if not frontend or frontend not in frontends:\r\n        return HTTP(404)\r\n    url = "%s/%s/rest/get-records-in-timeframe" % (baseurl, frontends[frontend])\r\n    params = {\'station\':station, \'name\':data_type, \'unit\':unit, \'from\':from_epoch, \'to\': to_epoch}\r\n    if period:\r\n        params[\'period\'] = period\r\n    r = requests.get(url, params=params)\r\n    #print r.url\r\n    data = r.json()\r\n    output = [ [d[\'timestamp\'], "%.2f" % float(d[\'value\'])] for d in data]\r\n \r\n    # the id must be the same of the A element in the data type list\r\n    series = [{\'data\':output, \'id\': IS_SLUG()(\'type_%s_%s_%s\' % (station,data_type,period))[0], \'station_id\':\'station_iud\', \'label\': "%s - %s" % (station, data_label)}]\r\n    return response.json({\'series\': series})\r\n\r\ndef __get_stations(frontend):\r\n    def local():\r\n        url = "%s/%s/rest/get-station-details" % (baseurl, frontend)\r\n        r = requests.get(url) # params=url_vars)\r\n        print r.url\r\n        stations = r.json()\r\n        stations.sort(key=lambda v: v[\'name\'])\r\n        return stations\r\n    stations = cache.ram(\'stations_%s\' % frontend, local, cache_t)\r\n    return stations\r\n\r\ndef __get_types(station, frontend):\r\n    def local(station):\r\n        url = "%s/%s/rest/get-data-types" % (baseurl, frontend)\r\n        r = requests.get(url, params={\'station\':station})\r\n        types = r.json()\r\n        types.sort(key=lambda v: v)\r\n        return types\r\n    types = cache.ram(\'types_%s\' % station, partial(local, station), cache_t)\r\n    return types\r\n    \r\n#@cache.action(time_expire=180, cache_model=cache.ram, vars=True)\r\ndef get_geojson():\r\n    session.forget(request)\r\n    frontend = request.vars.frontend\r\n    frontend = frontends[frontend] if frontend in frontends else \'\'\r\n    data_type = request.vars.type\r\n    period = request.vars.period\r\n\r\n    stations = cache.ram(\'__get_stations_info_%s\' % frontend, lambda: __get_stations_info(frontend), (3600 * 24))\r\n\r\n    for s in stations:\r\n        s[\'last_value\'] = __get_last_value(frontend, s[\'id\'], data_type, period)\r\n    \r\n    features= [{"type": "Feature",\r\n                "properties": {\r\n                    "id":s[\'id\'],\r\n                    "popupContent": "%s %s" % (s[\'name\'], s[\'last_value\']),\r\n                    "openPopup": False,\r\n                    "last_value": s[\'last_value\'],\r\n                },\r\n                "geometry": {\r\n                    "type": "Point",\r\n                    "coordinates": [s[\'longitude\'], s[\'latitude\']]\r\n                },} for s in stations] \r\n\r\n    response.headers[\'Content-Type\'] = \'application/json\'\r\n    return response.json({"type": "FeatureCollection", \'features\': features}) \r\n\r\n# Return basic info for all available parking lots\r\ndef __get_stations_info(frontend):\r\n    r = requests.get("%s/%s/rest/get-station-details" % (baseurl, frontend))\r\n    #print r.url\r\n    if \'exceptionMessage\' in r.json():\r\n        return []\r\n    return r.json()\r\n\r\ndef __get_last_value(frontend, _id,  _type, _period):\r\n    rest_url = "%s/%s" % (baseurl, frontend)\r\n    method = "rest/get-records"\r\n    params = {\'name\':_type, \'period\':_period, \'station\':_id, \'seconds\': 7200}\r\n    r = requests.get("%s/%s" % (rest_url, method), params=params)\r\n    data=r.json()\r\n\r\n    index = len(data)-1 # last value\r\n    if frontend == \'BluetoothFrontEnd\':\r\n        index = len(data)-2      # last but one value\r\n\r\n    if \'exceptionMessage\' in data or len(data) < -(index):\r\n        return -1\r\n\r\n    obj=data[index]\r\n    return int(obj[\'value\'])\r\n\nresponse._vars=response._caller(get_geojson)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__hash__'
p12
S"<method-wrapper '__hash__' of exceptions.KeyError object>"
p13
sS'__setattr__'
p14
S"<method-wrapper '__setattr__' of exceptions.KeyError object>"
p15
sS'__reduce_ex__'
p16
S'<built-in method __reduce_ex__ of exceptions.KeyError object>'
p17
sS'__getslice__'
p18
S"<method-wrapper '__getslice__' of exceptions.KeyError object>"
p19
sS'__getitem__'
p20
S"<method-wrapper '__getitem__' of exceptions.KeyError object>"
p21
sS'__setstate__'
p22
S'<built-in method __setstate__ of exceptions.KeyError object>'
p23
sS'args'
p24
S"('longitude',)"
p25
sS'__reduce__'
p26
S'<built-in method __reduce__ of exceptions.KeyError object>'
p27
sS'__str__'
p28
S"<method-wrapper '__str__' of exceptions.KeyError object>"
p29
sS'__format__'
p30
S'<built-in method __format__ of exceptions.KeyError object>'
p31
sS'__getattribute__'
p32
S"<method-wrapper '__getattribute__' of exceptions.KeyError object>"
p33
sS'__class__'
p34
S"<type 'exceptions.KeyError'>"
p35
sS'__unicode__'
p36
S'<built-in method __unicode__ of exceptions.KeyError object>'
p37
sS'__delattr__'
p38
S"<method-wrapper '__delattr__' of exceptions.KeyError object>"
p39
sS'__subclasshook__'
p40
S'<built-in method __subclasshook__ of type object>'
p41
sS'__repr__'
p42
S"<method-wrapper '__repr__' of exceptions.KeyError object>"
p43
sS'__dict__'
p44
S'{}'
p45
sS'__sizeof__'
p46
S'<built-in method __sizeof__ of exceptions.KeyError object>'
p47
sS'__doc__'
p48
S"'Mapping key not found.'"
p49
sS'__init__'
p50
S"<method-wrapper '__init__' of exceptions.KeyError object>"
p51
sS'__new__'
p52
S'<built-in method __new__ of type object>'
p53
ssS'evalue'
p54
S"'longitude'"
p55
sS'request'
p56
cgluon.html
XML_unpickle
p57
(S's0\\\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>ethical</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>79.45.105.49</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>data</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">ajs_group_id</td><td style="vertical-align:top;">:</td><td><div>null<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">ajs_user_id</td><td style="vertical-align:top;">:</td><td><div>null<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">lang</td><td style="vertical-align:top;">:</td><td><div>it<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_ethical</td><td style="vertical-align:top;">:</td><td><div>79.45.105.49-0c16b305-d5da-45c4-ad92-789cb2b23fb1<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">DOCUMENT_ROOT</td><td style="vertical-align:top;">:</td><td><div>/usr/share/nginx/html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>application/json, text/javascript, */*; q=0.01</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>__utma=177085241.431438423.1382542583.1421824336.1431944609.35; __utmz=177085241.1395412945.20.2.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); _ga=GA1.3.431438423.1382542583; ajs_group_id=null; ajs_user_id=null; session_id_ethical=79.45.105.49-0c16b305-d5da-45c4-ad92-789cb2b23fb1; lang=it; _gat=1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>analytics.mobility.bz.it</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://analytics.mobility.bz.it/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:37.0) Gecko/20100101 Firefox/37.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_X_REQUESTED_WITH</td><td style="vertical-align:top;">:</td><td><div>XMLHttpRequest</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/data/get_geojson</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div>frontend=Traffic&amp;amp;period=1800&amp;amp;type=Traffic+Count+record</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>79.45.105.49</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>40639</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_URI</td><td style="vertical-align:top;">:</td><td><div>/data/get_geojson?frontend=Traffic&amp;amp;period=1800&amp;amp;type=Traffic+Count+record</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>traffic.integreen-life.bz.it</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>80</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>nginx/1.5.3</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">UWSGI_SCHEME</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/www-data/web2py.git/applications/parkbzNew/&#x27;, &#x27;/home/www-data/web2py.git/applications/parkbz/&#x27;, &#x27;/home/www-data/web2py.git/applications/vtraffic/&#x27;, &#x27;/home/www-data/web2py.git/applications/cleanroads/&#x27;, &#x27;/home/www-data/web2py.git/applications/ethical/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py.git</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_length</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_type</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">document_root</td><td style="vertical-align:top;">:</td><td><div>/usr/share/nginx/html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain_application</td><td style="vertical-align:top;">:</td><td><div>ethical</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain_controller</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain_function</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py.git</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>application/json, text/javascript, */*; q=0.01</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>__utma=177085241.431438423.1382542583.1421824336.1431944609.35; __utmz=177085241.1395412945.20.2.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); _ga=GA1.3.431438423.1382542583; ajs_group_id=null; ajs_user_id=null; session_id_ethical=79.45.105.49-0c16b305-d5da-45c4-ad92-789cb2b23fb1; lang=it; _gat=1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>analytics.mobility.bz.it</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://analytics.mobility.bz.it/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:37.0) Gecko/20100101 Firefox/37.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_x_requested_with</td><td style="vertical-align:top;">:</td><td><div>XMLHttpRequest</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>traffic.integreen-life.bz.it</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>traffic</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/data/get_geojson</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div>frontend=Traffic&amp;amp;period=1800&amp;amp;type=Traffic+Count+record</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>79.45.105.49</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>40639</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/ethical/data/get_geojson?frontend=Traffic&amp;amp;period=1800&amp;amp;type=Traffic+Count+record</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>traffic.integreen-life.bz.it</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>80</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>nginx/1.5.3</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi.node</td><td style="vertical-align:top;">:</td><td><div>traffic</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi.version</td><td style="vertical-align:top;">:</td><td><div>1.9.14</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_node</td><td style="vertical-align:top;">:</td><td><div>traffic</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_version</td><td style="vertical-align:top;">:</td><td><div>1.9.14</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_original_uri</td><td style="vertical-align:top;">:</td><td><div>/data/get_geojson?frontend=Traffic&amp;amp;period=1800&amp;amp;type=Traffic+Count+record</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py.git</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.5-stable+timestamp.2014.03.15.21.24.06</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;wsgi_errors&#x27;, mode &#x27;w&#x27; at 0x228ff60&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in function uwsgi_sendfile&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi._Input object at 0x7feda226f858&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;wsgi_errors&#x27;, mode &#x27;w&#x27; at 0x228ff60&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in function uwsgi_sendfile&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi._Input object at 0x7feda226f858&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py.git/applications/ethical/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>get_geojson</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/www-data/web2py.git/applications/parkbzNew/&#x27;, &#x27;/home/www-data/web2py.git/applications/parkbz/&#x27;, &#x27;/home/www-data/web2py.git/applications/vtraffic/&#x27;, &#x27;/home/www-data/web2py.git/applications/cleanroads/&#x27;, &#x27;/home/www-data/web2py.git/applications/ethical/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py.git</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py.git</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>traffic.integreen-life.bz.it</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>traffic</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.5-stable+timestamp.2014.03.15.21.24.06</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 6, 30, 8, 57, 30, 105152)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/data/get_geojson</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 6, 30, 6, 57, 30, 105172)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uuid</td><td style="vertical-align:top;">:</td><td><div>ethical/79.45.105.49.2015-06-30.08-57-30.9a2e4362-d1d6-4b2d-83a8-88cb5a3abfdf</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x441df50&gt;</div></td></tr></table></div>'
tRp58
sS'frames'
p59
(lp60
(dp61
S'file'
p62
S'/home/www-data/web2py/gluon/restricted.py'
p63
sS'dump'
p64
(dp65
S'environment'
p66
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, 'CENTER': <class 'gluon.html.CENTER'>, ...}"
p67
sS'ccode'
p68
S'<code object <module> at 0x44542b0, file "/home/...pplications/ethical/controllers/data.py", line 2>'
p69
ssS'lnum'
p70
I220
sS'lines'
p71
(dp72
I224
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p73
sI215
S'    try:'
p74
sI216
S'        if isinstance(code, types.CodeType):'
p75
sI217
S'            ccode = code'
p76
sI218
S'        else:'
p77
sI219
S'            ccode = compile2(code, layer)'
p78
sI220
S'        exec ccode in environment'
p79
sI221
S'    except HTTP:'
p80
sI222
S'        raise'
p81
sI223
S'    except RestrictedError:'
p82
ssS'call'
p83
S"(code='# -*- coding: utf-8 -*-\\r\\nimport requests\\r\\nfrom f...)\\r\\n\\nresponse._vars=response._caller(get_geojson)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, 'CENTER': <class 'gluon.html.CENTER'>, ...}, layer='/home/www-data/web2py.git/applications/ethical/controllers/data.py')"
p84
sS'func'
p85
S'restricted'
p86
sa(dp87
g62
S'/home/www-data/web2py.git/applications/ethical/controllers/data.py'
p88
sg64
(dp89
sg70
I174
sg71
(dp90
I163
S''
sI164
S'    index = len(data)-1 # last value'
p91
sI165
S"    if frontend == 'BluetoothFrontEnd':"
p92
sI166
S'        index = len(data)-2      # last but one value'
p93
sI167
S''
sI168
S"    if 'exceptionMessage' in data or len(data) < -(index):"
p94
sI169
S'        return -1'
p95
sI170
S''
sI171
S'    obj=data[index]'
p96
sI172
S"    return int(obj['value'])"
p97
ssg83
S'()'
p98
sg85
S'<module>'
p99
sa(dp100
g62
S'/home/www-data/web2py/gluon/globals.py'
p101
sg64
(dp102
S'self'
p103
S'undefined'
p104
sS'f'
S'<function get_geojson>'
p105
ssg70
I385
sg71
(dp106
I384
S'        self._vars = None'
p107
sI385
S'        self._caller = lambda f: f()'
p108
sI386
S'        self._view_environment = None'
p109
sI387
S'        self._custom_commit = None'
p110
sI388
S'        self._custom_rollback = None'
p111
sI389
S''
sI380
S'        self.menu = []             # used by the default view layout'
p112
sI381
S'        self.files = []            # used by web2py_ajax.html'
p113
sI382
S'        self.generic_patterns = []  # patterns to allow generic views'
p114
sI383
S"        self.delimiters = ('{{', '}}')"
p115
ssg83
S'(f=<function get_geojson>)'
p116
sg85
S'<lambda>'
p117
sa(dp118
g62
S'/home/www-data/web2py.git/applications/ethical/controllers/data.py'
p119
sg64
(dp120
S's'
S"{u'id': u'Via Duerer Lane 9', 'last_value': -1, u'name': u'Via Duerer Lane 9'}"
p121
sS'stations'
p122
S"[{u'id': u'Via Duerer Lane 9', 'last_value': -1, u'name': u'Via Duerer Lane 9'}, {u'id': u'Via Duerer', 'last_value': -1, u'name': u'Via Duerer'}, {u'id': u'Via Duerer Lane 2', 'last_value': -1, u'name': u'Via Duerer Lane 2'}, {u'id': u'Via Duerer Lane 3', 'last_value': -1, u'name': u'Via Duerer Lane 3'}, {u'id': u'Via Duerer Lane 4', 'last_value': -1, u'name': u'Via Duerer Lane 4'}, {u'id': u'Via Duerer Lane 5', 'last_value': -1, u'name': u'Via Duerer Lane 5'}, {u'id': u'Via Duerer Lane 6', 'last_value': -1, u'name': u'Via Duerer Lane 6'}, {u'id': u'Via Duerer Lane 7', 'last_value': -1, u'name': u'Via Duerer Lane 7'}, {u'id': u'Via Duerer Lane 8', 'last_value': -1, u'name': u'Via Duerer Lane 8'}, {u'id': u'via Torricelli', 'last_value': -1, u'name': u'via Torricelli'}, {u'id': u'via Torricelli lane 1', 'last_value': -1, u'name': u'via Torricelli lane 1'}, {u'id': u'via Torricelli lane 2', 'last_value': -1, u'name': u'via Torricelli lane 2'}, {u'id': u'Via Duerer Lane 1', 'last_value': -1, u'name': u'Via Duerer Lane 1'}, {u'id': u'via Torricelli lane 3', 'last_value': -1, u'name': u'via Torricelli lane 3'}, {u'id': u'via Torricelli lane 4', 'last_value': -1, u'name': u'via Torricelli lane 4'}]"
p123
ssg70
I144
sg71
(dp124
I139
S'                    "last_value": s[\'last_value\'],'
p125
sI140
S'                },'
p126
sI141
S'                "geometry": {'
p127
sI142
S'                    "type": "Point",'
p128
sI143
S'                    "coordinates": [s[\'longitude\'], s[\'latitude\']]'
p129
sI144
S'                },} for s in stations]'
p130
sI145
S''
sI146
S"    response.headers['Content-Type'] = 'application/json'"
p131
sI147
S'    return response.json({"type": "FeatureCollection", \'features\': features})'
p132
sI148
S''
ssg83
S'()'
p133
sg85
S'get_geojson'
p134
sasS'pyver'
p135
S'Python 2.7.3: /usr/local/bin/uwsgi (prefix: /usr)'
p136
sS'session'
p137
g57
(S's\x81\t\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">auth</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">expiration</td><td style="vertical-align:top;">:</td><td><div>3600</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>6ba9e06d-91e2-4045-8b35-a44168f64088</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_visit</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 6, 30, 8, 55, 30, 637106)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remember</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">email</td><td style="vertical-align:top;">:</td><td><div>project@integreen-life.bz.it</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">first_name</td><td style="vertical-align:top;">:</td><td><div>integreen</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">id</td><td style="vertical-align:top;">:</td><td><div>1L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_name</td><td style="vertical-align:top;">:</td><td><div>integreen</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_id</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">reset_password_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">username</td><td style="vertical-align:top;">:</td><td><div>integreen</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user_groups</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">1</td><td style="vertical-align:top;">:</td><td><div>user_1</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr></table></div>'
tRp138
sS'etype'
p139
S"<type 'exceptions.KeyError'>"
p140
sS'date'
p141
S'Tue Jun 30 08:57:31 2015'
p142
sS'response'
p143
g57
(S'sM\x17\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x3b27490&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_ethical</td><td style="vertical-align:top;">:</td><td><div>79.45.105.49-0c16b305-d5da-45c4-ad92-789cb2b23fb1<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^data/\\w+\\.py$</div></td></tr><tr><td><div>^data/get_geojson/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>79.45.105.49</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_ethical</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;/home/www-data/web2py.git/applications/ethical/sessions/79.45.105.49-0c16b305-d5da-45c4-ad92-789cb2b23fb1&#x27;, mode &#x27;rb+&#x27; at 0x3741c90&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>/home/www-data/web2py.git/applications/ethical/sessions/79.45.105.49-0c16b305-d5da-45c4-ad92-789cb2b23fb1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>96443547ae97e71e5e7e167dff9fbbe1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>79.45.105.49-0c16b305-d5da-45c4-ad92-789cb2b23fb1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_ethical</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_locked</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>ethical</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">static_version</td><td style="vertical-align:top;">:</td><td><div>0.0.2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>data/get_geojson.html</div></td></tr></table></div>'
tRp144
sS'locals'
p145
(dp146
S's'
S"{u'id': u'Via Duerer Lane 9', 'last_value': -1, u'name': u'Via Duerer Lane 9'}"
p147
sS'frontend'
p148
S"'TrafficFrontEnd'"
p149
sS'period'
p150
S"'1800'"
p151
sS'data_type'
p152
S"'Traffic Count record'"
p153
sS'stations'
p154
S"[{u'id': u'Via Duerer Lane 9', 'last_value': -1, u'name': u'Via Duerer Lane 9'}, {u'id': u'Via Duerer', 'last_value': -1, u'name': u'Via Duerer'}, {u'id': u'Via Duerer Lane 2', 'last_value': -1, u'name': u'Via Duerer Lane 2'}, {u'id': u'Via Duerer Lane 3', 'last_value': -1, u'name': u'Via Duerer Lane 3'}, {u'id': u'Via Duerer Lane 4', 'last_value': -1, u'name': u'Via Duerer Lane 4'}, {u'id': u'Via Duerer Lane 5', 'last_value': -1, u'name': u'Via Duerer Lane 5'}, {u'id': u'Via Duerer Lane 6', 'last_value': -1, u'name': u'Via Duerer Lane 6'}, {u'id': u'Via Duerer Lane 7', 'last_value': -1, u'name': u'Via Duerer Lane 7'}, {u'id': u'Via Duerer Lane 8', 'last_value': -1, u'name': u'Via Duerer Lane 8'}, {u'id': u'via Torricelli', 'last_value': -1, u'name': u'via Torricelli'}, {u'id': u'via Torricelli lane 1', 'last_value': -1, u'name': u'via Torricelli lane 1'}, {u'id': u'via Torricelli lane 2', 'last_value': -1, u'name': u'via Torricelli lane 2'}, {u'id': u'Via Duerer Lane 1', 'last_value': -1, u'name': u'Via Duerer Lane 1'}, {u'id': u'via Torricelli lane 3', 'last_value': -1, u'name': u'via Torricelli lane 3'}, {u'id': u'via Torricelli lane 4', 'last_value': -1, u'name': u'via Torricelli lane 4'}]"
p155
sssS'traceback'
p156
S'Traceback (most recent call last):\n  File "/home/www-data/web2py/gluon/restricted.py", line 220, in restricted\n    exec ccode in environment\n  File "/home/www-data/web2py.git/applications/ethical/controllers/data.py", line 174, in <module>\n  File "/home/www-data/web2py/gluon/globals.py", line 385, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/www-data/web2py.git/applications/ethical/controllers/data.py", line 144, in get_geojson\n    },} for s in stations]\nKeyError: \'longitude\'\n'
p157
s.