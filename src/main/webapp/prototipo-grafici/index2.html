<!DOCTYPE html>
<html lang="en">
  <head>

    <title>sketch analytics UI</title>
    <meta charset="UTF-8"> 

    <style type="text/css">
    body {
        background-color: #666666;
        margin: 20px;
    }
    </style>

    <link rel="stylesheet" type="text/css" href="gfx.css">
	<script src="vendor/jquery/3.3.1/jquery.js"></script>
	<script src="vendor/flot/0.8.3/jquery.flot.js"></script>
	<script src="vendor/flot/0.8.3/jquery.flot.time.js"></script>
	<script src="gfx.js" defer></script>

  </head>
  <body>

    <div id="gfx">

      <!-- top panel with graph -->

      <div id="gfx_plot">
          <div id="gfx_flot"></div>
          <div id="gfx_wait"><img src="loading-icon.gif"></div>
      </div>

      <!-- spacer -->

      <div id="gfx_vspacer"></div>

      <!-- tabs -->

      <div id="gfx_tabs">
          <span class="gfx_tab"><a href="">legend</a></span><span class="gfx_tab"><a href="">select time range</a></span><span class="gfx_tab"><a href="">add data set</a></span><span class="gfx_tab"><a href="">extras</a></span>
      </div>

      <!-- tabbed panels -->

      <div id="gfx_tabbed_panels">

         <div id="gfx_legend">
              <p>Yo. I'm the legend.</p>
              <table>
                  <!--
                  <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                  </tr>
                  -->
                  <tr>
                      <td style="color: red">colore</td>
                      <td>MeteoFrontEnd</td>
                      <td>Meran/Gratsch (23200MS)</td>
                      <td>air temperature [C]</td>
                      <td>600</td>
                      <td><button class="gfx_sel">&lt;</button> <button class="gfx_nsel">&gt;</button></td>
                      <td><button class="gfx_nsel">X</button</td>
                  </tr>
                  <tr>
                      <td style="color: blue">colore</td>
                      <td>MeteoFrontEnd</td>
                      <td>Meran/Gratsch (23200MS)</td>
                      <td>precipitation [mm]</td>
                      <td>300</td>
                      <td><button class="gfx_nsel">&lt;</button> <button class="gfx_sel">&gt;</button></td>
                      <td><button class="gfx_nsel">X</button</td>
                  </tr>
                </table>
          </div>

          <div id="gfx_time">
              <p>Yo. I am the from/to chooser.</p>
              <p>I'm a demo.</p>
              <p>
                  <button onclick="d = new Date(); plot(Number(new Date(1900 + d.getYear(), d.getMonth(), d.getDate(), 0, 0, 0)), 86400000, true)"> today           </button>
                  <button onclick="plot(Number(new Date()) -    86400000,    86400000, true)"> day to date     </button>
                  <button onclick="plot(Number(new Date()) -  7*86400000,  7*86400000, true)"> week to date    </button>
                  <button onclick="plot(Number(new Date()) - 14*86400000, 14*86400000, true)"> 2 weeks to date </button>
                  <button onclick="plot(Number(new Date()) - 30*86400000, 30*86400000, true)"> month to date   </button>
              </p>
              <p>
                  <button onclick="plot(state.scale.from - state.scale.range / 2, state.scale.range, true)"> - 1/2</button>
                  <button onclick="plot(state.scale.from + state.scale.range / 2, state.scale.range, true)"> + 1/2</button>
              </p>
          </div>

          <div id="gfx_moredata">

              <p>Add a data set to the graph.</p>

              <select id="gfx_selcategory">
                <option value="">select category...</option>
                <option value="meteorology">&rarr; meteorology</option>
              </select>

              <br><br>

              <select id="gfx_selstation">
              </select>

              <br><br>

              <select id="gfx_seldataset">
              </select>

              <br><br>

              <button id="gfx_addset">add selected data set</button>

          </div>

          <div id="gfx_extras">

              <p>Todo: permalink, height Y and scale Y, live view on button, CSV dump</p>

          </div>

      </div>

    </div>

  </body>
</html>
